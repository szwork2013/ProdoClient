  <!-- /*
  * Overview: Product Features 
  * All Product features defined here...
  * Dated: 27/11/2013.
  * Author: Bhagyashri Jangam
  * Copyright: Prodonus Software Private Limited and GiantLeap Systems Private Limited 2013
  * Change History:
  * date | author | description 
  * 27-3/2013 | xyx | Add a new property
  *
  */
-->


<div ng-controller="ProductController"  >
  <div id="prodo-productFeature-fixed"    >
    <br><img class="img" id="productLogo"  style=" height: 100px; padding:10px;max-width:500px; cursor: pointer;"   ng-src="{{product.product_logo}}" />
    <form ng-app="prodo.UploadApp" ng-controller="UploadController"  id="productLogoUpload" style="display:none;">
    
          <span class="btn btn-info fileinput-button" >
            <i class="fa fa-cloud-upload "></i>
            <input   type="file" name="file" ng-file-select="onFileSelect($files)"  ng-click="uploadSrc = 'productlogo';">
            
          </span>
      </form>
<br>
    <accordion>
      <accordion-group>
      <accordion-heading >
      <p style='font-weight:bold; font-size: 15px; margin: 0;'>Product General &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <span id="prodo-addingProduct" style="color:green" >
             {{product.status}}&nbsp;&nbsp;&nbsp; </span>
          <i class="fa fa-pencil pull-right"></i></p>
        </accordion-heading>
        

        
        <div class="prodo-product-general "  >
          <!-- admin tasks -->

         

          <div style="float:right; " id="prodo.productAdmin" ng-style="checkAdmintoUpdateProduct();">
           
           
          

            <a href=""   ng-click="editStatus='update' ; enableEditor() ;  " data-toggle="collapse" data-target="#Edit" >  <i class="fa fa-pencil-square-o "></i></a>
            <a href=""  data-toggle="modal" data-target="#myModal">   <i class="fa fa-trash-o"></i> </a>    
            
            
          </div>
           <div style="float:right; " id="prodo.productAdminAddProduct">
           <a href=""  data-toggle="collapse" data-target="#Edit" ng-click="enableEditor() ;  editStatus='add'; clearText(); " > <i class="fa fa-plus-square"></i></a>&nbsp;&nbsp;
           </div>

     <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Delete Product</h4>
          </div>
          <div class="modal-body">
            Are you sure you want to delete ?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default glyphicon glyphicon-remove" data-dismiss="modal"></button>
            <button type="button" class="btn btn-danger glyphicon glyphicon-trash " ng-click="deleteProduct();" data-dismiss="modal" ></button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
          

          

          <!-- display mode -->
          <table class="table child " ng-hide="editorEnabled" id="prodo-ProductFeatureTable" >
            <tr id="prodo-productbnd" style="background-color: white; display:none;" ng-style="ShowBannedDate(product)">
              <td>Product Banned on : <span>&nbsp;{{product.banneddate }}</span></td>
            </tr>
            <tr   id="prodo-productDiscontinued"  >
              <td style=" background-color: #FFBABA;font-size: 16px;  border-top: 0px solid #ddd; padding:8px; padding-bottom:12px;" ng-style="ShowDiscontinuedSale(product)" >Product Discontinued On  <span >&nbsp;{{formatDate(product.sale_discontinuation_date)}}
              </span></td></tr>
              <tr   id="prodo-productDiscontinued"  >
                <td style=" background-color: #FFBABA;font-size: 16px;  border-top: 0px solid #ddd; padding:8px; " ng-style="ShowDiscontinuedSupport(product)">Support Discontinued On  <span  >&nbsp;{{formatDate(product.support_discontinuation_date)}} </span></td>
              </tr>
              <tr>
                <td  colspan="2">Product Name :
                 
                  <span   class="collapsed2 " style="cursor:pointer; color:brown" onclick="this.className = this.className == 'collapsed2' ? 'expanded' : 'collapsed2'">
                    <a onclick="" > <span>&nbsp;{{product.name}} </span></a>
                  </span>
                </td>
              </tr>
             
              <tr>
              <td  >Model Name : <span  >&nbsp;{{product.name}} </span></td>
                <td  >Model No : <span>&nbsp;{{product.model_no}} </span></td>
                
              </tr>
              <tr>
                <td  colspan="2">Description : <span>&nbsp; {{product.description}}</span></td>
              </tr>
            </table>
          </div>

          <!-- display mode -->
         
          <!-- edit mode -->
          <form    id="Edit" class="collapse"  ng-show="editorEnabled" ng-switch="isEditing" name="productForm" >
            <div class="prodo-product-general " >
              
              <table class="table child " id="prodo-ProductFeatureTable">
                <tr style=" background-color: #FFBABA; display: none" id="prodo-productDiscontinued"  >
                  <td  >Product Discontinued   <input  id="prodo-product-features_textfield" type="text" class="form-control" ng-model="$parent.$parent.product.prodDis" style="float: right" name="prodDis"   /></td>
                  <td  >Support Discontinued   <input id="prodo-product-features_textfield" type="text" class="form-control" ng-model="$parent.$parent.product.supDis" style="float: right" name="supDis"  /></td>
                </tr>
                <tr>
                  <td >   Product Name <input ng-model="$parent.$parent.product.name"   id="prodo-product-features_textfield" class="form-control"  type="text" style="float: right"  required name="name" />  </td>
                 
                </tr>
                <tr>
                  <td  >Model No  <input id="prodo-product-features_textfield" type="text" class="form-control" ng-model="$parent.$parent.product.model_no" style="float: right; " required name="model_no" /></td>

                  <td  >Model Name  <input id="prodo-product-features_textfield" type="text" class="form-control" ng-model="$parent.$parent.product.display_name" style="float: right" required name="display_name" /></td>
                </tr>
                <tr>
                  <td  colspan="2">Description   <textarea  type="text" id="prodo-product-featuresDescription_textfield" class="form-control"  ng-model="$parent.$parent.product.description" required name="description" col="40"  ></textarea>


                  </td>
                </tr>
                <tr ><td colspan="2">
              <!--   <button type="submit" class="btn btn-info" style="width: 550px;"  ng-click=" $parent.isEditing = false" >Save</button>
            -->
            <a  ng-click="addProduct(editStatus);disableEditor();" class="btn btn-default btn-sm fa fa-floppy-o pull-right" style=" margin: 5px;"   ></a>
            <a class="btn btn-default btn-sm glyphicon glyphicon-remove pull-right"  style=" margin: 5px;"  ng-click="disableEditor()"></a>
          </td>
        </tr>
      </table>

    </div>
  </form>
  <!-- edit mode -->


  


</accordion-group>

<accordion-group>
  <accordion-heading>
  <p  style='font-weight:bold; font-size: 15px; margin: 0;'>Product Features<i class="fa fa-pencil pull-right"></i></p>
  </accordion-heading>
    <!-- data here -->


  <div style="float:right;" ng-style="checkAdmintoUpdateProduct();" id="prodo.productAdmin">
    <a href=""  data-toggle="collapse" data-target="#Editfeature" ng-click="enableEditor() ;  editStatus='add';  " > <i class="fa fa-plus-square"></i></a>
  </div>

  <form    id="Editfeature" class="collapse"  ng-show="editorEnabled"  name="productFeaturesForm" >
    <table class="table child " id="prodo-ProductFeatureTable" >
      <tr>
        <td >   Feature name <input ng-model="$parent.$parent.feature.name"   id="prodo-product-features_textfield" class="form-control"  type="text" style="float: right"  required name="name" />  </td>
    
      </tr>
      <tr>
        <td  colspan="2">Description   <textarea  type="text" id="prodo-product-featuresDescription_textfield" class="form-control"  ng-model="$parent.$parent.feature.description" required name="description" col="40"  > </textarea>
        </td>
      </tr> 
  
    <tr ><td colspan="2">
   
    <a  ng-click="addProductFeature(editStatus);disableEditor();" class="btn btn-default btn-sm fa fa-floppy-o pull-right" style=" margin: 5px;"  ></a>
    <a class="btn btn-default btn-sm glyphicon glyphicon-remove pull-right" style=" margin: 5px;" ng-click="disableEditor()"></a>
  </td>
</tr>
</table>

</form>


<table class="table child " id="prodo-ProductFeatureTable">
   <tr >
     <td> <dt>Feature</dt> </td>
     <td> <dt>Description </dt></td>
     <td ng-style="checkAdmintoUpdateProduct();"> <dt>Option</dt> </td>
   
   </tr>
   <tr ng-repeat="feature in features track by $index">
     <td ng-hide="edit" >  {{feature.featurename}}</td>

     <td  ng-show="edit" ><input ng-model="feature.featurename"  style="width:150px;" class="form-control"  type="text"   required name="name" /> </td>
     
     <td ng-hide="edit" > {{feature.featuredescription}}</td> 

      <td  ng-show="edit" ><input ng-model="feature.featuredescription" style="width:300px;" class="form-control"  type="text"   required name="name" /> </td>
  

    <td ng-hide="edit" ng-style="checkAdmintoUpdateProduct();">

      <a href=""     ng-click="edit = ! edit; editStatus='update';  "> <i class="fa fa-pencil " /> </a>
        &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; 
      <a href="" ng-click="deleteFeature(feature)">  <i class="glyphicon glyphicon-trash " /></a>
    </td>
    <td ng-show="edit">
  
       <a id="Editfeature1" ng-click="updateProductFeature(feature,feature.featureid);edit = ! edit;" class="btn btn-default  btn-sm fa fa-floppy-o " style="margin: 5px;"  ></a>
      <a id="Editfeature1" class="btn btn-default  btn-sm glyphicon glyphicon-remove " style=" margin: 5px;" ng-click="edit = ! edit;"></a>


    </td>

     
   </tr>

</table>


</accordion-group>


<accordion-group>
<accordion-heading>
<p  style='font-weight:bold; font-size: 15px; margin: 0;'>Product Images<i class="fa fa-pencil pull-right"></i></p>
</accordion-heading>

<div class="table child " id="prodo-ProductFeatureTable" >
  <form   name="ProductImg" >
    <div class="checkboxFilter"  style="padding: 10px;">
      <span  id="showHideAllchkLabel" ng-style="checkAdminProductImagesDelete();" >Select All</span>  
      <input id="showHideAllchk" ng-style="checkAdminProductImagesDelete();"  type="checkbox" ng-click="masterChange();"  name="pinSet ">
      &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;            
      <button type="button" class=" btn btn-danger  " id="prodo-deleteProductImage" ng-style="checkAdminProductImagesDelete();" data-toggle="modal" data-target="#imgDelModal"   >
        <span class="glyphicon glyphicon-trash"></span> 
      </button> 
      <br>
      <br />
      <div class="thumb" ng-repeat="img in pImages_l"  >
        <img class="img" style="width: 150px; height: 150px;"  ng-src="{{img.image}}" />
        <input type="checkbox" ng-style="checkAdminProductImagesDelete();"ss value="{{img.imageid}}" name="imgSet" class="imgToggles" id="imgchk"  ng-click="checkedIndex(img)">
      </div>
    </div>
  </form>
</div>
 <!-- Modal -->
    <div class="modal fade" id="imgDelModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Delete Images</h4>
          </div>
          <div class="modal-body">
            Are you sure you want to delete selected images?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default glyphicon glyphicon-remove" data-dismiss="modal"></button>
            <button type="button" class="btn btn-danger glyphicon glyphicon-trash"  ng-click="deleteProductImages($index);" data-dismiss="modal" ></button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

</accordion-group>
</accordion>

</div>
</div>
