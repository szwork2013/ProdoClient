<!-- /*
  * Overview: Product Tabs
  * Tabs to handle product Comments and product features
  * Dated: 03/12/2013.
  * Author: Bhagyashri Jangam
  * Copyright: Prodonus Software Private Limited and GiantLeap Systems Private Limited 2013
  * Change History:
  * ----------------------------------------------------------------------
  * date | author | description 
  * ----------------------------------------------------------------------
  * 03/12/2013 | xyx | Add a new property
  * 
  */-->
<div ng-app="prodo.ProductApp" id="prodo-comment-container" class="container prodo-ProductContainer" ng-controller="ProductController" >
<!--  -->
<div growl></div>
  
<div id="ErrMsging" class="prodo-ErrMsging"></div>
<br>
<div id="prodo-ProductDetails">
  <div >
   <img class="img prodo-productLogoDisplay pull-left" id="productLogo" ng-src="{{product.product_logo.image}}" alt-SRC src="../assets/images/if_no_logo_images_available.gif"/>
      <a href="" ng-style="CheckIfAlreadyFollowingProduct()" id="prodo-followBtn"  ng-click="followCurrentProduct()"   class="prodo-followBtn pull-right btn btn-primary btn-sm ">  Follow </a>
<!--      <strong class="prodo-productNameStrong" >&nbsp;<span ng-bind="product.name.substring(0,20)"> </span></strong> -->

   <!--   <div class="prodo-trendingContainer">
    Followers {{ product.trending.followedcount }}  
    </div>
       <div class="prodo-trendingContainer" >
    Comments {{ product.trending.commentcount }}
    </div> -->

      <table class="prodo-MainDetailsTable" >
         <tr >
           <td colspan ="2" >
               <strong class="prodo-productNameStrong" >&nbsp;<span ng-bind="product.name.substring(0,20)"> </span></strong>
           </td>
         </tr> 
         <tr class="prodo-followesInfotr" >
           <td class="prodo-followesInfotd prodo-producttrendingInfo" >
             <div class="prodo-producttrendingInfoDiv"  ng-bind="product.trending.followedcount"></div><div class="prodo-producttrendingInfoLable" > Followers</div> 
            </td>
            <td class="prodo-producttrendingInfo prodo-productCommentInfo">
              <div class="prodo-productCommentInfoDiv" ng-bind="product.trending.commentcount"></div><div class="prodo-productCommentsInfoLable"> Comments</div> 
            </td>
          </tr>
        </table>
        <div class="clearBoth"></div>

  <!--   <img class="img prodo-productLogoDisplay" id="productLogo" ng-src="{{product.product_logo.image}}" /> -->
   <!--  <strong class="prodo-productNameStrong" >&nbsp;<span ng-bind="product.name.substring(0,20)"> </span></strong> -->
 
    <br>
    <span class="prodo-Modelno" >
      MODEL NO :&nbsp; <span ng-bind="product.model_no"></span>
      <br>
      <!-- <span> -->
     <!--     <i ng-click="ShowDescription();" class="fa fa-caret-right fa-2x prodo-cursor"></i> -->
       &nbsp;&nbsp; Description : 
      <!--   <span id="prodo-description" class="prodo-description" ng-bind="product.description" > </span> <i ng-click="ShowDescription();" class=" prodo-cursor"> read more</i> -->


     <div id="profile-description">
      <div class="text show-more-height" ng-bind="product.description">
        
      </div>
      <div ng-style="cslcShowMoreLength()" class="show-more pull-right showMoreMargin">Show More</div>
    </div>
      <!-- </span> -->
    </span>
    <table class="table child "  id="prodo-ProductFeatureTable" >
      <tr id="prodo-productbnd" class="prodo-productTabledis"  ng-show="product.banneddate">
        <td>Product Banned on : &nbsp;<span ng-bind="formatDate(product.banneddate)"></span></td>
      </tr>
      <tr   id="prodo-productDiscontinued"  >
        <td class="prodo-productTabledis"  ng-show="product.sale_discontinuation_date"  >Product Discontinued On &nbsp; <span ng-bind="formatDate(product.sale_discontinuation_date)">
          </span>
        </td>
        <td class="prodo-productTabledis" ng-show="product.support_discontinuation_date" >Support Discontinued On  &nbsp;<span ng-bind="formatDate(product.support_discontinuation_date)" > </span></td>
      </tr>
    </table>
  </div>
  <div id="prodo-ProdoProductComments">
    <div id="prodo-comment-fixed" ng-controller="ProductCommentController">
      <!-- tabs -->
      <div class="prodo-comment-Text-tabs " id="tabs">
        <ul id="commentTab" class=" commentTab nav nav-pills" ng-init="tabForComment.tabSearch = false;
          tabForComment.tabComment = true" >
          <li class="Pcomment" ng-class="{active2 : tabForComment.tabComment == 1}" >
            <a  class="prodo-cursor" id="prodoCommentTab" ng-click="tabForComment.tabComment = true; tabForComment.tabSearch=false; searchComment.search='' "  >
              <div   id="fa-removeComment" name="rm" class=" fa fa-comments-o fa-lg  " ></div>
            </a>
          </li>

          <li class="PSearch" ng-class="{active2 : tabForComment.tabSearch == 1}"  >
            <a id="prodoCommentSearchTab" class="prodo-cursor" ng-click="tabForComment.tabSearch =  true ;
              tabForComment.tabComment = false; hideFeature()" >

              <div id="fa-tagsComment" class="fa fa-search fa-lg"  ></div>
            </a>
          </li>
         
        </ul>
       <div collapse="isCollapsed" style="width:80%;margin-left:30px;"> 
               <b> Select the feature to talk on </b>
               <p style="font-size:10px;">Features are vertically scrollable</p>
                     <ul style="max-height:60px;overflow-x:hidden; overflow-y: auto;">
                        <li ng-repeat="feature in features track by $index"  class="hyperlinkPointer featureTabs" style=""> 
                        <span ng-bind="feature.featurename" ng-click="addFeatureToComment(feature.featurename)" style="font-size:12px;"> </span>
                        </li>
                     </ul>
        </div>
        <div class="tab-content">
          <div id="Remove" ng-show="tabForComment.tabComment == true" >
            <div id="prodo-comment-enterComment" >
              <span class="label label-info   " ng-bind="300 - commenttextField.userComment.length" ></span> 
              <a href="" ng-click="getLatestComments()" >
                <div class="label label-info prodo-display-discont" ng-if="commentError" id="responseComment" > {{commentError}} </div>
              </a>
              <div ng-controller="DragImageController">
                <div id="prodo-comment-textBox-container">
                  <div id="holder">
                    <textarea ng-init="commenttextField.userComment=''" id="prodo-comment-Textbox" col="40" type="text" class="form-control prodo-validation" name="txtComment" placeholder="Product Conversation [max 300 characters]"   ng-model="commenttextField.userComment" comment-limit="300" ng-enter="addProductComment();hideFeature()" required  items="featuretags"  ng-click="showFeature()"></textarea>  
                    <!-- tags -->
                    <div id="prodo-productTags" >
                      <form  role="form">
                        <div  class="prodo-TagsBox" >
                          <tags-input  add-on-enter="false" add-on-space="true" ng-model="mytags" placeholder="Add tags"  ng-enter="addProductComment()" replace-spaces-with-dashes="false"></tags-input>
                        </div>
                      </form>
                    </div>
                    <div class="prodo-CommentImgPrePosting" id="CommentImg"   >
                      <a class="close prodo-display-discont" id= "crossButton" ng-click="clearReader()">&times;</a> 
                      <img class="prodo-uploadedImg" id="prodo-uploadedCommentImage" />
                    </div>
                  </div>
                </div>
                <!--   <span > 
                  tags
                  
                  </span> -->
              </div>
              <p id="upload" class="hidden">
                <label  >
                <br>
                <input type="file"    >
                </label>
              </p>
            </div>
          </div>
          <div id="Remove" ng-show="tabForComment.tabSearch == true" class="prodo-padding-bottom"  >
            <br>
            <input ng-model="searchComment.search" class="commentSearchTextbox form-control " id="prodo-comment-search-Textbox"  type="text"   placeholder="Search comments ...">
          </div>
    
        </div>
      </div>
      <!-- tabs -->
      <div class="span4 spanCommentIMGErr " >
      <div class="alert alert-danger fade" id="text">
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
        <strong><div id="UploadCommentIMGErrMsg"></div></strong>
      </div>
    </div>
      <ul class="media-list "  id="prodo-comment-media-list" style="display">
        <div prodo-comments    id="prodo-comment-commentContainer"  >
        </div>
      </ul>
      <button class="" id="load-more" ng-click="loadMoreComments()" ng-show="productComments.length>4">  
      <span id="img-spinner" > <i  class=" prodo-loadmoreColor fa fa-spinner fa-spin "> </i></span>
      Load more...
      </button>
      <div id="loadMoreCommentMsg" class="prodo-loadmoreMsg" ></div>
    </div>
  </div>
</div>