<!-- /*
  * Overview: Product Features 
  * All Product features defined here...
  * Dated: 27/11/2013.
  * Author: Bhagyashri Jangam
  * Copyright: Prodonus Software Private Limited and GiantLeap Systems Private Limited 2013
  * Change History:
  * date | author | description 
  * 27-3/2013 | xyx | Add a new property
  *
  */
  -->
<div id="prodo-productsAdmin">
  <!-- All Product List -->
  <div id="ErrMsging" class="prodo-ErrMsging" ></div>
 <!-- <div growl > </div> -->
  <br>
  <div class="prodo-productListCorousel" >
    <button class="arrowBtn prodo-arrowbtnLeft" ng-show="productlist.length > 4 " ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1" >
      <
      <!--  <i style="color:gray; font-weight:weight:lighter" class="fa fa-chevron-left fa-3x"></i>  -->
    </button>
    <a onclick="  $('#ErrMsging').css('display', 'none');$('#prodo-ProductDetails').show(); $('#productExtraInfo').css('display','none'); $('#prodo-productDiscontinuedUpdate').hide();" ng-click=" enableEditor() ;  editStatus='add'; clearText();  " class="prodo-cursor" >
      <div class="prodo-productThumbnailView" >
        <p class="prodo-AddProductBtn" >Add Product</p>
        <div class="prodo-productThumbnailImg fa fa-plus fa-4x img-rounded"  align="center" ></div>
      </div>
    </a>
    <div class="prodo-productThumbnailView"  ng-repeat="product1 in productlist  | startFrom:currentPage*pageSize | limitTo:pageSize" >
      <a ng-click="getSelectedProduct(product1);" class="prodo-cursor"  href="" >
        <p class="prodo-AddProductBtn prodo-productNameList" >{{product1.name.substring(0,13)}}</p>
        <img  ng-src="{{product1.product_logo.image}}" alt-SRC src="../assets/images/if_no_logo_images_available.gif"  class="prodo-productThumbnailImg img-rounded">
      </a>
    </div>
    <button class="arrowBtn prodo-arrowbtnRight"  ng-show="productlist.length > 4 " ng-disabled="currentPage >= productlist.length/pageSize - 1" ng-click="currentPage=currentPage+1" >
      >
      <!-- <i style="color:gray; font-weight:weight:lighter" class=" fa fa-chevron-right fa-3x"></i>  -->
    </button>
  </div>
  <div class="clearBoth"></div>

   <div class="span4 spanProdERR " >
    <div class="alert alert-danger fade" id="text">
      <button type="button" class="close" data-dismiss="alert">×</button>
      <div id="ProdERRMsg"></div>
    </div>
  </div>

   <div class="span4 spanProdSuccess" >
      <div class="alert alert-success fade">
        <button type="button" class="close" data-dismiss="alert">×</button>
        <div id="ProdSuccessMsg"></div>
      </div>
   </div>
  <hr>
  <div id="prodo-ProductDetails" class="prodo-ProductDetails">
    <!-- All Product List -->
    <!-- General -->
    <div class="prodo-product-general "  >
      <h4 class="prodo-headings">GENERAL</h4>
      <!-- admin tasks -->
      <div ng-show="product.prodle" class="prodo.productAdmin1 pull-right "  id="prodo.productAdmin" ng-style="checkAdmintoUpdateProduct();" >
        <a href="" class="btn btn-primary btn-sm btn-bottom-margin" ng-click="editStatus='update' ; enableEditor() ;  "  onclick="$('.prodo-productDiscontinuedUpdate').show();"> Update &nbsp;<i class="fa fa-pencil-square-o "></i></a>
        <a href="" class="btn btn-danger btn-sm btn-bottom-margin" data-toggle="modal" data-target="#myModal">  Delete &nbsp; <i class="fa fa-trash-o"></i> </a> 
        <br>
      </div>
      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Delete Product</h4>
            </div>
            <div class="modal-body">
              Once deleted this product, it won't be accessible .<br>
              Are you sure you want to delete ?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default " data-dismiss="modal"> Cancel &nbsp; <i class=" glyphicon glyphicon-remove"></i></button>
              <button type="button" class="btn btn-danger  " ng-click="deleteProduct();" data-dismiss="modal" > Delete  &nbsp; <i class=" glyphicon glyphicon-trash"></i></button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->
      <!-- display mode -->
      <table class="  prodo-productTableFont  table child table-bordered table-hover "  ng-hide="editorEnabled" id="prodo-ProductFeatureTable" >
        <tr id="prodo-productbnd" class="prodo-productTabledis"  ng-show="product.banneddate">
          <td>Product Banned on : &nbsp;<span ng-bind="formatDate(product.banneddate)"></span></td>
        </tr>
        <tr  id="prodo-productDiscontinued" class="prodo-productTabledis" >
          <td class="prodo-productTabledis" ng-show="product.sale_discontinuation_date" >Product Discontinued On &nbsp; <span ng-bind="formatDate(product.sale_discontinuation_date)"></td>
          <td class="prodo-productTabledis" ng-show="product.support_discontinuation_date">Support Discontinued On  &nbsp;<span ng-bind="formatDate(product.support_discontinuation_date)" > </span></td>
        </tr>
        <tr class="prodo-productTableFont" >
          <td  class="prodo-productTableFont" >Product Name :&nbsp; <span ng-bind="product.name" > </span></td>
          <td  class="prodo-productTableFont" >Model No :&nbsp; <span ng-bind="product.model_no"></span></td>
        </tr>
        <td colspan="2" ng-show="product.category" >Category :  
         <ul class="prodo-CategoryUl">
            <li ng-repeat="category in product.category track by $index" class=" prodo-categoryTags" >  <span ng-bind="category" > </span>
            </li>
         </ul>
        </td>
        <tr  class="prodo-productTableFont" >
          <td    colspan="2" class="prodo-productTableFont">Description : &nbsp;<span ng-bind="product.description"> </span></td>
        </tr>
      </table>
    </div>
    <!-- display mode -->
    <!-- edit mode -->
    <form  id="Edit"  ng-show="editorEnabled==true"  name="productForm" >
      <div class="prodo-product-general productDisplay " >
        <table class="table child table-hover table-bordered prodo-productTableFont" id="prodo-ProductFeatureTable">
          <tr ng-show="editStatus=='update'" class="prodo-productDiscontinuedUpdate prodo-productTabledis prodo-display-discont " id="prodo-productDiscontinuedUpdate"  >
            <td >Product Banned on  <input  id="prodo-product-features_textfield" type="date" class="form-control prodo-display-right" ng-model="product.banneddate" name="banneddate"   /></td>
          </tr>
          <tr   ng-show="editStatus=='update'"  class="prodo-productDiscontinuedUpdate prodo-productTabledis prodo-display-discont "  >
            <td class="prodo-productTabledis" >Product Discontinued   <input  id="prodo-product-features_textfield" type="date" class="form-control prodo-display-right" ng-model="product.prodDis" name="prodDis"   /></td>
            <td class="prodo-productTabledis" >Support Discontinued   <input id="prodo-product-features_textfield" type="date" class="form-control prodo-display-right" ng-model="product.supDis" name="supDis"  /></td>
          </tr>
          <tr>
            <td >   Product Name <input ng-model="product.name" ng-minlength="2"
              ng-maxlength="50"  id="prodo-product-features_textfield" class="form-control prodo-display-right prodo-validation"  type="text"    name="name" required />  </td>
            <td  >Model No  <input id="prodo-product-features_textfield" type="text" ng-minlength="2" ng-maxlength="50"class="form-control prodo-display-right prodo-validation" ng-model="product.model_no"   name="model_no" required /></td>
          </tr>
             <tr>
            <td  colspan="2">Category   

                        <!-- <div  class="" >
                          <tags-input  add-on-enter="false" add-on-space="true" ng-model="product.category" placeholder="Add tags"  list=""
                            replace-spaces-with-dashes="false"  ></tags-input>
                             </div> -->
            <tags-input ng-show="(editStatus=='add')" ng-model="category"   ></tags-input>
              <tags-input ng-show="(editStatus=='update')" ng-model="product.category"   ></tags-input>               
            </td>
          </tr>
          <tr>
            <td  colspan="2">Description   <textarea  type="text" ng-minlength="2"
              ng-maxlength="500" id="prodo-product-featuresDescription_textfield" class="form-control prodo-validation"  ng-model="product.description" required name="description" col="40"  ></textarea>
            </td>
          </tr>
          <tr >
            <td colspan="2">
              <!--   <button type="submit" class="btn btn-info" style="width: 550px;"  ng-click=" $parent.isEditing = false" >Save</button>
                -->
              <a   ng-click="addProduct(editStatus);" onclick="$('#productExtraInfo').css('display','block');" class="btn btn-primary btn-sm  pull-right prodo-margin5"   >Save &nbsp;<i class="fa fa-floppy-o"></i></a>
              <a onclick="$('#productExtraInfo').css('display','block');" class="btn btn-default btn-sm  pull-right prodo-margin5"  ng-click="disableEditor();  " > Cancel &nbsp;<i class="glyphicon glyphicon-remove"></i></a>
            </td>
          </tr>
        </table>
      </div>
    </form>
    <!-- edit mode -->
    <!-- General -->  
    <div class="clearBoth"></div>
    <hr>
     <div class="span4 spanProdFERR " >
        <div class="alert alert-danger fade" id="text">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="ProdFERRMsg"></div>
        </div>
      </div>

     <div class="span4 spanProdFSuccess" >
        <div class="alert alert-success fade">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="ProdFSuccessMsg"></div>
        </div>
      </div>
    <div id="productExtraInfo">
      <!-- Features -->
      <h4 class="prodo-headings">FEATURES</h4>
      <div class="prodo-AdminFearuresAdd" ng-style="checkAdmintoUpdateProduct();" id="prodo.productAdmin">
        <a href="" class="btn btn-primary btn-sm pull-right" ng-click="enableEditorFeature() ;  editStatus='add';  " > Add &nbsp; <i class="fa fa-plus-square"></i></a>
      </div>
      <form    id="Editfeature" ng-show="editorEnabledF ==true"  name="productFeaturesForm" >
        <table class="table child table-hover table-bordered"  id="prodo-ProductFeatureTable" >
          <tr class="prodo-productTableFont" >
            <td >   Feature name&nbsp;&nbsp;&nbsp; <input ng-model="feature.name"   id="prodo-product-features_textfield" class="form-control prodo-validation" 
              ng-maxlength="50" type="text"   required name="name" />  </td>
          </tr>
          <tr class="prodo-productTableFont" >
            <td  colspan="2">Description   <textarea  type="text" id="prodo-product-featuresDescription_textfield" class="form-control prodo-validation"  ng-model="feature.description"  ng-maxlength="100" required name="description" col="40"  > </textarea>
            </td>
          </tr>
          <tr  class="prodo-productTableFont">
            <td colspan="2">
              <a    ng-click="addProductFeature(editStatus);" class="btn btn-primary btn-sm  pull-right prodo-margin5" > Save &nbsp;<i class="fa fa-floppy-o"></i></a>
              <a class="btn btn-default btn-sm  pull-right prodo-margin5" ng-click="disableEditorFeature() ; "> Cancel&nbsp;<i class="glyphicon glyphicon-remove"></i></a>
            </td>
          </tr>
        </table>
      </form>
      <form name="productFeatureUpdate" >
        <table class="table child table-hover table-bordered prodo-productTableFont" id="prodo-ProductFeatureTable">
          <tr  class="prodo-productTableFont" >
            <td>
              <dt>Feature</dt>
            </td>
            <td>
              <dt>Description </dt>
            </td>
            <td ng-style="checkAdmintoUpdateProduct();">
              <dt>Option</dt>
            </td>
          </tr>
          <tr  class="prodo-productTableFont" ng-repeat="feature in features track by $index">
            <td ng-hide="edit" > <span ng-bind="feature.featurename"> </span></td>
            <td  ng-show="edit" ><input ng-model="feature.featurename"  class="form-control prodo-productFeatureName prodo-validation"  type="text"   ng-maxlength="50"  required name="name" /> </td>
            <td ng-hide="edit" > <span ng-bind="feature.featuredescription"> </span></td>
            <td  ng-show="edit" ><input ng-model="feature.featuredescription" class="form-control prodo-productFeaturedescription prodo-validation"  ng-maxlength="100" type="text"   required name="name" /> </td>
            <td ng-hide="edit" ng-style="checkAdmintoUpdateProduct();">
              <a href=""     ng-click="edit = ! edit; editStatus='update';  "> <i class="fa fa-pencil " /> </a>
              &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; 
              <a href="" ng-click="getSelectedFeature(feature)" data-toggle="modal" data-target="#ProductFeatureDelModal">  <i class="glyphicon glyphicon-trash " /></a>
              <!-- Modal -->
              <div class="modal fade" id="ProductFeatureDelModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      <h4 class="modal-title" id="myModalLabel">Delete Product Feature</h4>
                    </div>
                    <div class="modal-body">
                      Once deleted this product feature " {{selectedFeature.featurename}}  ", it won't be accessible .<br>
                      Are you sure you want to delete ?
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default " data-dismiss="modal">Cancel&nbsp;<i class="glyphicon glyphicon-remove"></i></button>
                      <button type="button" class="btn btn-danger "  ng-click="deleteFeature(selectedFeature)" data-dismiss="modal" >Delete&nbsp;<i class="glyphicon glyphicon-trash"></i></button>
                    </div>
                  </div>
                  <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
              </div>
              <!-- /.modal -->
            </td>
            <td ng-show="edit">
               <a id="Editfeature1" ng-click="updateProductFeature(feature,feature.featureid);edit = ! edit;" class="btn btn-default  btn-sm fa fa-floppy-o prodo-margin5" ng-disabled="productFeatureUpdate.$invalid" ></a>
            
              <a id="Editfeature1" class="btn btn-default  btn-sm glyphicon glyphicon-remove prodo-margin5" ng-click="edit = ! edit; getProductFeatures(product.prodle,product.orgid); "></a>
            </td>
          </tr>
        </table>
      </form>
      <div class="clearBoth"></div>
      <!-- Features -->
      <!-- Images -->
      <div ng-show="product.product_images" >
        <hr>
       
      <div class="span4 spanProdIMGERR " >
        <div class="alert alert-danger fade" id="text">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="ProdIMGERRMsg"></div>
        </div>
      </div>

     <div class="span4 spanProdIMGSuccess" >
        <div class="alert alert-success fade">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="ProdIMGSuccessMsg"></div>
        </div>
      </div>

        <h4 class="prodo-headings" >IMAGES</h4>

        <form   name="ProductImg" >

          <div class="checkboxFilter"  >
            <div class= "pull-right" ng-show="product.product_images">
              <span class= "" id="showHideAllchkLabel" ng-style="checkAdminProductImagesDelete();" >Select All</span>  
              <input class= "" id="showHideAllchk" ng-style="checkAdminProductImagesDelete();"  type="checkbox" ng-click="selectAllImages(pImages_l); "  name="pinSet ">
              &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;            
              <button type="button" class="prodo-delImgs btn btn-danger btn-sm " id="prodo-deleteProductImage" ng-style="checkAdminProductImagesDelete();"  ng-click="checkImageSelectedToDelete()"  >
              Delete &nbsp; <i class="fa fa-trash-o"></i> 
              </button> 
            </div>
            <div class="clearBoth"></div>
            <div >
              <div class="thumb" ng-repeat="img in pImages_l"    >
                <img class="img prodo-productImgThumbnail"  ng-src="{{img.image}}" />
                <input type="checkbox" ng-style="checkAdminProductImagesDelete();" value="{{img.imageid}}" ng-model="chckedIndexs" name="imgSet" class="imgToggles" id="imgchk"  ng-click="checkedIndex(img)">
              </div>
            </div>
            <br>
          </div>
        </form>
      </div>
      <div class="clearBoth"></div>
      <!-- Modal -->
      <div class="modal fade" id="imgDelModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h4 class="modal-title" id="myModalLabel">Delete Images</h4>
            </div>
            <div class="modal-body">
              Once deleted this images , it won't be accessible <br>
              Are you sure you want to delete selected images?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default " data-dismiss="modal"> Cancel &nbsp;<i class="glyphicon glyphicon-remove"></i></button>
              <button type="button" class="btn btn-danger "  ng-click="deleteProductImages($index);" data-dismiss="modal" >Delete &nbsp;<i class="glyphicon glyphicon-trash"></i></button>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->
      <!-- Images -->
      <hr>
      <!-- Uploads -->
      <div    ng-app="prodo.UploadApp" ng-controller="UploadController"  >
        <h4 class="prodo-headings2" >UPLOAD</h4>
           
       <div class="span4 spanErr " >
        <div class="alert alert-danger fade" id="text">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="UploadErrMsg"></div>
        </div>
      </div>

     <div class="span4 spanSuccess" >
        <div class="alert alert-success fade">
          <button type="button" class="close" data-dismiss="alert">×</button>
          <div id="UploadSuccessMsg"></div>
        </div>
      </div>

        <table   class="table table-hover table-bordered prodo-productTableFont">
          <tr>
            <td>Logo</td>
            <td>
              <div class="controls" > 
                <span class="btn btn-primary fileinput-button controls-upload prodo-uploadBtnWidth" >
                <i class="glyphicon glyphicon-upload "></i>
                <input   type="file" name="file" ng-file-select="onFileSelect($files)"  ng-click="uploadSrc = 'productlogo';">
                <span>Upload Logo</span>
                </span>
              </div>
            </td>
          </tr>
          <tr>
            <td>Art Work</td>
            <td>
              <div class="controls" > 
                <span class="btn btn-primary fileinput-button controls-upload prodo-uploadBtnWidth" >
                <i class="glyphicon glyphicon-upload "></i>
                <input   type="file" name="file" ng-file-select="onFileSelect($files)" multiple ng-click="uploadSrc = 'product';">
                <span>Upload Art Work</span>
                </span>
              </div>
            </td>
          </tr>
          <tr>
            <td>Data</td>
            <td>
              <div class="controls" > 
                <span class="btn btn-primary fileinput-button controls-upload prodo-uploadBtnWidth" >
                <i class="glyphicon glyphicon-upload "></i>
                <input   type="file" name="file" ng-file-select="onFileSelect($files)" multiple ng-click="uploadSrc = 'productlogo';">
                <span>Upload Product</span>
                </span>
              </div>
            </td>
          </tr>
        </table>
        <center>
          <div id="FileName" > 
          </div>
        </center>
      </div>
    </div>
  </div>
</div>